<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  
  
  <link rel="stylesheet" href="https://kleo.hak.dog/css/reset.css"/>
  <link rel="stylesheet" href="https://kleo.hak.dog/css/index.css"/>
  

  <title>âˆ…</title>
</head>

<body>
  <section class="section">
    <div class="container">
      

<table class="header">
  <tr>
    <td colspan="2" rowspan="2" class="width-auto">
      <h1 class="title">Copying files over Tor using torsocks and scp</h1>
      <span class="subtitle"></span>
    </td>
    <th>Version</th>
    <td class="width-min">v0.1</td>
  </tr>
  <tr>
    <th>Updated</th>
    <td class="width-min"><time style="white-space: pre;">2018-09-26</time></td>
  </tr>
  <tr>
    <th class="width-min">Author</th>
    <td class="width-auto"><cite><a href=https:&#x2F;&#x2F;kleo.hak.dog>kleo</a></cite></a></td>
    <th class="width-min">License</th>
    <td>MIT</td>
  </tr>
</table>
<label class="debug-toggle-label"><input type="checkbox" class="debug-toggle" /> Debug mode</label>
<div class="debug-grid"></div>

<!-- <div class="abstract">
<div class="abstract-title">$abstract-title$</div>
$abstract$
</div> -->



<p>If you haven't setup a Tor service on machine follow the link below.</p>
<p><a href="https://www.torproject.org/docs/debian.html.en">Setting up Tor on your machine on Torproject.org</a></p>
<p><a href="https://www.torproject.org/docs/tor-onion-service.html.en">Setting up Tor hidden service</a></p>
<p>We'll take advantage on port forwarding your ssh port 22 using a Tor hidden service.</p>
<p>To copy files or directories over Tor we need to use <code>torsocks</code> to communicate with the remote machine.</p>
<p>For files</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>torsocks scp file kbeflo@hostname.onion:/home/kbeflo/
</span></code></pre>
<p>For directories</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>torsocks scp -r directory/ kbeflo@hostname.onion:/home/kbeflo/
</span></code></pre>
<p>The hidden service will show password prompt for your username and will copy the files after.</p>
<p>Note that you have to change the username and hostname on your side. As an example I used my username and placeholder hostname.onion.</p>


    </div>
  </section>

  <script src="https://kleo.hak.dog/js/index.js"></script> 
</body>

</html>

